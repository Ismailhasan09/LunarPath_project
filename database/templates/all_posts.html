{% extends "layout.html" %}
{% block body %}
<div class="container mt-5">
    <h2 class="mb-4">All Posts</h2>
    <table class="table table-bordered">
        <thead class="thead-dark">
            <tr>
                <th scope="col">#</th>
                <th scope="col">Name</th>
                <th scope="col">ID</th>
                <th scope="col">Title</th>
                <th scope="col">Slug</th>
                <th scope="col">Content</th>
                <th scope="col">Image</th>
                <th scope="col">Actions</th>
            </tr>
        </thead>
        <tbody>
            {% for post in posts %}
            <tr>
                <th scope="row">{{ loop.index }}</th>
                <td>{{ post.Name }}</td>
                <td>{{ post.Id }}</td>
                <td>{{ post.title }}</td>
                <td>{{ post.slug }}</td>
                <td>{{ post.content }}</td>
                <td>
                    {% if post.img_file %}
                        <img src="{{ url_for('static', filename='uploads/' ~ post.img_file) }}" alt="Post Image" width="100">
                    {% else %}
                        No image
                    {% endif %}
                </td>
                <td>
                    <a href="{{ url_for('edit_post', sno=post.sno) }}" class="btn btn-sm btn-primary">Edit</a>
                    <a href="{{ url_for('delete_post', sno=post.sno) }}" class="btn btn-sm btn-danger" onclick="return confirm('Delete this post?');">Delete</a>
                </td>
            </tr>
            {% endfor %}
        </tbody>
    </table>
</div>
{% endblock %}
